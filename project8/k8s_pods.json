{"title":"Kubernetes Pods Overview","description":"Our Kubernetes dashboard gives you broad visibility into the scale, status, and resource usage of your cluster and its containers. Further reading for Kubernetes monitoring:\n\n- [Autoscale Kubernetes workloads with any Datadog metric](https://www.datadoghq.com/blog/autoscale-kubernetes-datadog/)\n\n- [How to monitor Kubernetes + Docker with Datadog](https://www.datadoghq.com/blog/monitor-kubernetes-docker/)\n\n- [Monitoring in the Kubernetes era](https://www.datadoghq.com/blog/monitoring-kubernetes-era/)\n\n- [Monitoring Kubernetes performance metrics](https://www.datadoghq.com/blog/monitoring-kubernetes-performance-metrics/)\n\n- [Collecting metrics with built-in Kubernetes monitoring tools](https://www.datadoghq.com/blog/how-to-collect-and-graph-kubernetes-metrics/)\n\n- [Monitoring Kubernetes with Datadog](https://www.datadoghq.com/blog/monitoring-kubernetes-with-datadog/)\n\n- [Datadog's Kubernetes integration docs](https://docs.datadoghq.com/integrations/kubernetes/)\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"layout":{"x":0,"y":-8,"width":115,"height":5},"definition":{"type":"note","content":"Overview","background_color":"gray","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":1,"layout":{"x":29,"y":52,"width":28,"height":24},"definition":{"title":"Most memory-intensive pods","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"q":"top(sum:kubernetes.memory.usage{$scope,$namespace,$deployment,!pod_name:no_pod,$cluster,$statefulset,$daemonset,$job} by {pod_name}, 10, 'mean', 'desc')"}],"custom_links":[]}},{"id":2,"layout":{"x":0,"y":52,"width":28,"height":24},"definition":{"title":"Most CPU-intensive pods","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"q":"top(sum:kubernetes.cpu.usage.total{$scope,$namespace,$deployment,!pod_name:no_pod,$cluster,$statefulset,$daemonset,$job} by {pod_name}, 10, 'mean', 'desc')"}],"custom_links":[]}},{"id":3,"layout":{"x":58,"y":52,"width":57,"height":24},"definition":{"title":"Pods Status Phase","title_size":"16","title_align":"left","show_legend":true,"type":"timeseries","requests":[{"q":"sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:failed,$scope,$statefulset,$daemonset,$job}, sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:pending,$scope,$statefulset,$daemonset,$job}, sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:running,$scope,$statefulset,$daemonset,$job}, sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:succeeded,$scope,$statefulset,$daemonset,$job}","metadata":[{"expression":"sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:failed,$scope}","alias_name":"Failed pods"},{"expression":"sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:pending,$scope}","alias_name":"Pending pods"},{"expression":"sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:running,$scope}","alias_name":"Running pods"},{"expression":"sum:kubernetes_state.pod.status_phase{$cluster,$namespace,$deployment,pod_phase:succeeded,$scope}","alias_name":"Succeeded pods"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":4,"layout":{"x":0,"y":94,"width":115,"height":5},"definition":{"type":"note","content":"Containers","background_color":"gray","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":5,"layout":{"x":0,"y":100,"width":57,"height":24},"definition":{"title":"Containers States","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes_state.container.ready{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job}, sum:kubernetes_state.container.running{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job}, sum:kubernetes_state.container.terminated{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job}, sum:kubernetes_state.container.waiting{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":6,"layout":{"x":58,"y":100,"width":57,"height":24},"definition":{"title":"Container Restarts by Pod","title_size":"16","title_align":"left","show_legend":false,"legend_size":"4","type":"timeseries","requests":[{"q":"sum:kubernetes_state.container.restarts{$scope,$cluster,$namespace,$deployment,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":7,"layout":{"x":0,"y":125,"width":57,"height":24},"definition":{"title":"Containers in CrashloopBackOff (by Pod)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.containers.state.waiting{$cluster,$namespace,$deployment,reason:crashloopbackoff,$scope,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":8,"layout":{"x":58,"y":125,"width":57,"height":24},"definition":{"title":"Containers OOM Killed (by Pod)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.containers.state.terminated{$cluster,$namespace,$deployment,reason:oomkilled,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":9,"layout":{"x":0,"y":150,"width":57,"height":24},"definition":{"title":"CPU Usage by Container","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.cpu.usage.total{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {kube_container_name,container_id}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":10,"layout":{"x":58,"y":150,"width":57,"height":24},"definition":{"title":"Memory Usage by Container","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.memory.usage{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {kube_container_name,container_id}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":11,"layout":{"x":-1,"y":21,"width":115,"height":5},"definition":{"type":"note","content":"Pods","background_color":"gray","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":12,"layout":{"x":0,"y":175,"width":57,"height":24},"definition":{"title":"Network Rate by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.network.rx_bytes{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {pod_name}, sum:kubernetes.network.tx_bytes{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":13,"layout":{"x":58,"y":175,"width":57,"height":24},"definition":{"title":"Network Errors by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.network.rx_errors{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {pod_name}, sum:kubernetes.network.tx_errors{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":14,"layout":{"x":0,"y":77,"width":28,"height":16},"definition":{"title":"Pods Running By Namespace","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:kubernetes.pods.running{$scope,$namespace,$deployment,$cluster,$statefulset,$daemonset,$job} by {kubernetes_cluster,kube_namespace}, 100, 'max', 'desc')","conditional_formats":[{"comparator":">","palette":"white_on_red","value":2000},{"comparator":">","palette":"white_on_yellow","value":1500},{"comparator":"<=","palette":"white_on_green","value":3000}]}],"custom_links":[]}},{"id":15,"layout":{"x":29,"y":77,"width":28,"height":16},"definition":{"title":"Pods in Ready State By Node","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:kubernetes_state.pod.ready{$scope,$cluster,$namespace,$deployment,condition:true,$statefulset,$daemonset,$job} by {kubernetes_cluster,host,nodepool}, 10, 'last', 'desc')","conditional_formats":[{"comparator":"<=","palette":"white_on_green","value":24},{"comparator":">","palette":"white_on_red","value":32},{"comparator":">","palette":"white_on_yellow","value":24}]}],"custom_links":[]}},{"id":16,"layout":{"x":87,"y":6,"width":28,"height":14},"definition":{"title":"Pods in Bad Phase by Namespaces","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:kubernetes_state.pod.status_phase{$scope,$cluster,$namespace,$deployment,$statefulset,$daemonset,$job,!phase:running,!phase:succeeded} by {phase,kube_namespace}, 100, 'last', 'desc')","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<=","palette":"white_on_green","value":0}]}],"custom_links":[]}},{"id":17,"layout":{"x":58,"y":77,"width":57,"height":16},"definition":{"title":"Pods in Bad State (Not Ready) by Namespace","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(exclude_null(sum:kubernetes_state.pod.ready{condition:false,$scope,$cluster,$namespace,$deployment,$statefulset,$daemonset,$job} by {kube_namespace}), 25, 'last', 'desc')","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<=","palette":"white_on_green","value":0}]}],"custom_links":[]}},{"id":18,"layout":{"x":58,"y":6,"width":28,"height":14},"definition":{"title":"Pods Running (changed weekly)","title_size":"16","title_align":"left","type":"change","custom_links":[],"requests":[{"q":"sum:kubernetes.pods.running{$scope,$namespace,$cluster,$deployment,$statefulset,$daemonset,$job} by {kube_namespace,kube_deployment}","compare_to":"week_before","change_type":"absolute","order_dir":"desc","increase_good":true,"order_by":"change"}]}},{"id":19,"layout":{"x":0,"y":6,"width":28,"height":14},"definition":{"title":"Pods Running","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.pods.running{$scope,$cluster,$namespace,$deployment,$statefulset,$daemonset,$job}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":20,"layout":{"x":0,"y":27,"width":57,"height":24},"definition":{"title":"CPU Usage by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.cpu.usage.total{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":21,"layout":{"x":58,"y":27,"width":57,"height":24},"definition":{"title":"Memory Usage by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.memory.usage{$cluster,$namespace,$deployment,$scope,$statefulset,$daemonset,$job} by {pod_name}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":22,"layout":{"x":29,"y":6,"width":28,"height":14},"definition":{"title":"Pods running by Namespace","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.pods.running{$scope,$cluster,$namespace,$deployment,$statefulset,$daemonset,$job} by {cluster_name,kube_namespace}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}}],"template_variables":[{"name":"scope","default":"*"},{"name":"cluster","default":"*","prefix":"cluster_name"},{"name":"namespace","default":"*","prefix":"kube_namespace"},{"name":"deployment","default":"*","prefix":"kube_deployment"},{"name":"statefulset","default":"*","prefix":"kube_stateful_set"},{"name":"daemonset","default":"*","prefix":"kube_daemon_set"},{"name":"job","default":"*","prefix":"kube_job"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":30322}