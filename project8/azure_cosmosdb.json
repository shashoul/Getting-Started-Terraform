{"title":"Azure CosmosDB","description":"This dashboard summarizes your Azure Cosmos DB usage. Further reading on Azure Cosmos DB monitoring:\n\n- [Datadog's Azure Cosmos DB docs](https://docs.datadoghq.com/integrations/azure_cosmosdb/)\n\n- [Documentation on Datadog's overall integration with Azure](https://docs.datadoghq.com/integrations/azure/?tab=azurecliv20)\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"layout":{"x":0,"y":0,"width":19,"height":16},"definition":{"type":"image","url":"/static/images/logos/azure-cosmosdb_avatar.svg","sizing":"fit","margin":"large"}},{"id":1,"layout":{"x":20,"y":23,"width":12,"height":60},"definition":{"type":"note","content":"","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":2,"layout":{"x":20,"y":141,"width":12,"height":44},"definition":{"type":"note","content":"Storage","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":3,"layout":{"x":33,"y":156,"width":101,"height":14},"definition":{"title":"Document Quota ","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.document_quota{$Database-Name,$Collection-Name,$Region}","on_right_yaxis":false,"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":4,"layout":{"x":33,"y":171,"width":101,"height":14},"definition":{"title":"Data Usage vs Index Usage","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.data_usage{$Region,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"},{"q":"avg:azure.cosmosdb.index_usage{$Region,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":5,"layout":{"x":101,"y":111,"width":33,"height":29},"definition":{"title":"Server-side Latency (Per Operation Type)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(avg:azure.cosmosdb.server_side_latency{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {operationtype})","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":6,"layout":{"x":0,"y":17,"width":19,"height":6},"definition":{"title":"Availability (1 hour ago)","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:azure.cosmosdb.service_availability{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"avg","conditional_formats":[{"comparator":">","palette":"white_on_green","value":99},{"comparator":"<=","palette":"white_on_red","value":99}]}],"custom_links":[],"precision":0}},{"id":7,"layout":{"x":0,"y":187,"width":19,"height":16},"definition":{"type":"image","url":"/static/images/logos/cassandra_large.svg","sizing":"fit"}},{"id":8,"layout":{"x":33,"y":194,"width":24,"height":6},"definition":{"title":"Cassandra Tables Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_table_created{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":9,"layout":{"x":58,"y":194,"width":24,"height":6},"definition":{"title":"Cassandra Tables Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_table_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"last","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":false,"precision":0}},{"id":10,"layout":{"x":83,"y":194,"width":24,"height":6},"definition":{"title":"Cassandra Tables Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_table_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":11,"layout":{"x":33,"y":187,"width":24,"height":6},"definition":{"title":"Cassandra Keyspaces Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_keyspace_created{$Resource-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":12,"layout":{"x":58,"y":187,"width":24,"height":6},"definition":{"title":"Cassandra Keyspaces Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_keyspace_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":13,"layout":{"x":83,"y":187,"width":24,"height":6},"definition":{"title":"Cassandra Keyspaces Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_keyspace_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":14,"layout":{"x":108,"y":194,"width":26,"height":6},"definition":{"title":"Table Throughput Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_table_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"last"}],"precision":0}},{"id":15,"layout":{"x":108,"y":187,"width":26,"height":6},"definition":{"title":"Keyspace Throughput Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.cassandra_keyspace_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"last"}],"precision":0}},{"id":16,"layout":{"x":33,"y":232,"width":101,"height":15},"definition":{"title":"Cassandra Request Units Consumed","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.cassandra_request_charges{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":17,"layout":{"x":33,"y":201,"width":101,"height":15},"definition":{"title":"Cassandra Requests","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.cassandra_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":18,"layout":{"x":20,"y":249,"width":12,"height":60},"definition":{"type":"note","content":"Databases and Collections Metrics (Via the MongoDB API)","background_color":"vivid_green","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":19,"layout":{"x":0,"y":249,"width":19,"height":15},"definition":{"type":"image","url":"/static/images/logos/mongodb_large.svg","sizing":"fit"}},{"id":20,"layout":{"x":33,"y":249,"width":24,"height":6},"definition":{"title":"Mongo Databases Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_database_created{$Resource-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":21,"layout":{"x":33,"y":256,"width":24,"height":6},"definition":{"title":"Mongo Collections Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_collection_created{$Resource-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":22,"layout":{"x":58,"y":249,"width":24,"height":6},"definition":{"title":"Mongo Databases Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_database_deleted{$Resource-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":23,"layout":{"x":58,"y":256,"width":24,"height":6},"definition":{"title":"Mongo Collections Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_collection_deleted{$Resource-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":24,"layout":{"x":83,"y":249,"width":24,"height":6},"definition":{"title":"Mongo Databases Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_database_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"last","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":25,"layout":{"x":83,"y":256,"width":24,"height":6},"definition":{"title":"Mongo Collections Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_collection_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":26,"layout":{"x":108,"y":249,"width":26,"height":6},"definition":{"title":"Database Throughput Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_database_throughput_updated{$Resource-Name}","aggregator":"sum"}],"precision":0}},{"id":27,"layout":{"x":20,"y":348,"width":12,"height":35},"definition":{"type":"note","content":"Databases and Collections (Via the Azure Core SQL API)","background_color":"vivid_blue","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":28,"layout":{"x":0,"y":348,"width":19,"height":16},"definition":{"type":"image","url":"/static/images/logos/azure-sql-database_avatar.svg","sizing":"fit","margin":"large"}},{"id":29,"layout":{"x":84,"y":348,"width":50,"height":6},"definition":{"title":"Azure SQL Containers Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.sql_container_created{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":30,"layout":{"x":33,"y":348,"width":50,"height":6},"definition":{"title":"Azure SQL Databases Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.sql_database_created{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":31,"layout":{"x":33,"y":355,"width":50,"height":6},"definition":{"title":"Azure SQL Databases Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.sql_database_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":32,"layout":{"x":33,"y":362,"width":50,"height":6},"definition":{"title":"Azure SQL Databases Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.sql_database_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":2}},{"id":33,"layout":{"x":84,"y":355,"width":50,"height":6},"definition":{"title":"Azure SQL Containers Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.sql_container_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"last","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":34,"layout":{"x":84,"y":362,"width":50,"height":6},"definition":{"title":"Azure SQL Containers Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.sql_container_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":2}},{"id":35,"layout":{"x":33,"y":369,"width":50,"height":14},"definition":{"title":"Azure SQL Database Throughput","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.sql_database_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":36,"layout":{"x":84,"y":369,"width":50,"height":14},"definition":{"title":"Azure SQL Container Throughput","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.sql_container_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":37,"layout":{"x":20,"y":311,"width":12,"height":35},"definition":{"type":"note","content":"Gremlin Databases and Graphs (Via the Gremlin API)","background_color":"purple","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":38,"layout":{"x":0,"y":311,"width":19,"height":16},"definition":{"type":"image","url":"/static/images/logos/gremlin_large.svg","sizing":"fit"}},{"id":39,"layout":{"x":33,"y":311,"width":50,"height":6},"definition":{"title":"Gremlin Databases Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.gremlin_database_created{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":40,"layout":{"x":33,"y":318,"width":50,"height":6},"definition":{"title":"Gremlin Databases Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.gremlin_database_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":41,"layout":{"x":33,"y":325,"width":50,"height":6},"definition":{"title":"Gremlin Databases Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.gremlin_database_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":42,"layout":{"x":84,"y":311,"width":50,"height":6},"definition":{"title":"Gremlin Graphs Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.gremlin_graph_created{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":43,"layout":{"x":84,"y":318,"width":50,"height":6},"definition":{"title":"Gremlin Graphs Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.gremlin_graph_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":44,"layout":{"x":84,"y":325,"width":50,"height":6},"definition":{"title":"Gremlin Graphs Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.gremlin_graph_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":45,"layout":{"x":33,"y":332,"width":50,"height":14},"definition":{"title":"Gremlin Database Throughput","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.gremlin_database_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":46,"layout":{"x":84,"y":332,"width":50,"height":14},"definition":{"title":"Gremlin Graph Throughput","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.gremlin_graph_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":47,"layout":{"x":20,"y":385,"width":12,"height":20},"definition":{"type":"note","content":"Azure Tables (Via the Azure Tables API)","background_color":"vivid_blue","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":48,"layout":{"x":0,"y":385,"width":19,"height":16},"definition":{"type":"image","url":"/static/images/logos/azure-table-storage_avatar.svg","sizing":"fit","margin":"small"}},{"id":49,"layout":{"x":33,"y":385,"width":50,"height":6},"definition":{"title":"Azure Tables Created","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.azure_table_table_created{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"precision":0}},{"id":50,"layout":{"x":33,"y":392,"width":50,"height":6},"definition":{"title":"Azure Tables Deleted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.azure_table_table_deleted{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"precision":0}},{"id":51,"layout":{"x":33,"y":399,"width":50,"height":6},"definition":{"title":"Azure Tables Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.azure_table_table_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","aggregator":"last","conditional_formats":[{"comparator":">=","palette":"white_on_yellow","value":0}]}],"autoscale":true,"precision":0}},{"id":52,"layout":{"x":84,"y":385,"width":50,"height":14},"definition":{"title":"Azure Tables Throughput","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.azure_table_table_throughput_updated{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":53,"layout":{"x":20,"y":187,"width":12,"height":60},"definition":{"type":"note","content":"Keyspaces and Tables Metrics (Via the Cassandra API)\n\n\n\n\nSelect your CosmosDB Resources using the \"Resource-Name\" template variable.","background_color":"blue","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":54,"layout":{"x":33,"y":84,"width":101,"height":26},"definition":{"title":"Provisioned Throughput","title_size":"16","title_align":"left","type":"query_table","requests":[{"aggregator":"last","cell_display_mode":["bar"],"q":"exclude_null(avg:azure.cosmosdb.provisioned_throughput{$Subscription,$Region,$Resource-Group,$Database-Name,$Collection-Name,$Resource-Name} by {name,databasename,collectionname}.as_count().rollup(max, 24))","alias":"Req Units /sec","limit":100,"order":"desc"}],"custom_links":[]}},{"id":55,"layout":{"x":20,"y":84,"width":12,"height":56},"definition":{"type":"note","content":"Network","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"right"}},{"id":56,"layout":{"x":33,"y":141,"width":101,"height":14},"definition":{"title":"Document Count ","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.document_count{$Region,$Database-Name,$Collection-Name} by {name}.as_count()","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":57,"layout":{"x":67,"y":111,"width":33,"height":29},"definition":{"title":"Server-side Latency (Per Public API)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(avg:azure.cosmosdb.server_side_latency{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {publicapitype})","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":58,"layout":{"x":33,"y":111,"width":33,"height":29},"definition":{"title":"Server-side Latency (Per Resource)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:azure.cosmosdb.server_side_latency{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {name}","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":59,"layout":{"x":135,"y":111,"width":13,"height":29},"definition":{"type":"note","content":"Correlate your Server Side Latency across your CosmosDB Resources, Public APIs, and Operation types.","background_color":"yellow","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"left"}},{"id":60,"layout":{"x":84,"y":0,"width":50,"height":22},"definition":{"title":"Total Requests (Per Collection)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {collectionname}.as_count())","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":61,"layout":{"x":33,"y":0,"width":50,"height":22},"definition":{"title":"Total Requests (Per Database)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {databasename}.as_count())","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":62,"layout":{"x":33,"y":69,"width":33,"height":16},"definition":{"type":"query_table","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {statuscode}.as_count())","aggregator":"sum","limit":10,"order":"desc","alias":"Total Requests"}],"custom_links":[]}},{"id":63,"layout":{"x":67,"y":69,"width":33,"height":16},"definition":{"type":"query_table","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {operationtype}.as_count())","aggregator":"sum","limit":10,"order":"desc","alias":"Total Requests"}],"custom_links":[]}},{"id":64,"layout":{"x":101,"y":69,"width":33,"height":16},"definition":{"type":"query_table","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {status}.as_count())","aggregator":"sum","limit":10,"order":"desc","alias":"Total Requests"}],"custom_links":[]}},{"id":65,"layout":{"x":33,"y":23,"width":50,"height":22},"definition":{"title":"Request Units Consumed (Per Database)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_request_units{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {databasename}.as_count())","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":66,"layout":{"x":84,"y":23,"width":50,"height":22},"definition":{"title":"Requests Units Consumed (Per Collection)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_request_units{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {collectionname}.as_count())","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":67,"layout":{"x":135,"y":0,"width":14,"height":45},"definition":{"type":"note","content":"Use these widgets to visualize the total request being made to your CosmosDB resources and correlate them with their respective Request Unit consumption.","background_color":"yellow","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"left"}},{"id":68,"layout":{"x":33,"y":217,"width":33,"height":14},"definition":{"title":"Cassandra Request (Per Operation Type)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.cassandra_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {operationtype}","on_right_yaxis":false,"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":69,"layout":{"x":101,"y":217,"width":33,"height":14},"definition":{"title":"Cassandra Request (Per Error Code)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.cassandra_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {errorcode}","on_right_yaxis":false,"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":70,"layout":{"x":135,"y":207,"width":14,"height":34},"definition":{"type":"note","content":"Use the template variables for Region, Database-Name, and Collection-Name to make your selections.","background_color":"yellow","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"left"}},{"id":71,"layout":{"x":108,"y":256,"width":26,"height":6},"definition":{"title":"Collection Throughput Updated","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.mongo_collection_throughput_updated{$Resource-Group}","aggregator":"sum"}],"precision":0}},{"id":72,"layout":{"x":0,"y":31,"width":19,"height":6},"definition":{"title":"Account Status: Online","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.count{status:running}","aggregator":"last","conditional_formats":[{"comparator":">","palette":"white_on_green","value":0}]}],"autoscale":false,"custom_links":[],"precision":0}},{"id":73,"layout":{"x":0,"y":24,"width":19,"height":6},"definition":{"title":"Total Accounts","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:azure.cosmosdb.count{status:running}+sum:azure.cosmosdb.count{status:unknown}","aggregator":"last","conditional_formats":[{"comparator":">","palette":"white_on_green","value":0}]}],"autoscale":false,"custom_links":[],"precision":0}},{"id":74,"layout":{"x":33,"y":294,"width":101,"height":15},"definition":{"title":"Mongo Request Units Consumed","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.mongo_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}.as_count()","on_right_yaxis":false,"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":75,"layout":{"x":33,"y":263,"width":101,"height":15},"definition":{"title":"Mongo Requests","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.mongo_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name}.as_count()","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":76,"layout":{"x":33,"y":279,"width":33,"height":14},"definition":{"title":"Mongo Request (Per Operation Type)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.mongo_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {operationtype}.as_count()","on_right_yaxis":false,"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":77,"layout":{"x":67,"y":279,"width":33,"height":14},"definition":{"title":"Mongo Request (Per Resource Type)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.mongo_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {resourcetype}.as_count()","on_right_yaxis":false,"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":78,"layout":{"x":101,"y":279,"width":33,"height":14},"definition":{"title":"Mongo Request (Per Error Code)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.mongo_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {errorcode}.as_count()","on_right_yaxis":false,"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":79,"layout":{"x":33,"y":46,"width":101,"height":22},"definition":{"title":"Total Requests (Per Status Code)","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"exclude_null(sum:azure.cosmosdb.total_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {statuscode}.as_count())","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":80,"layout":{"x":20,"y":0,"width":12,"height":60},"definition":{"type":"note","content":"Requests","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":81,"layout":{"x":67,"y":217,"width":33,"height":14},"definition":{"title":"Cassandra Request (Per Resource Type)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.cosmosdb.cassandra_requests{$Subscription,$Region,$Resource-Group,$Resource-Name,$Database-Name,$Collection-Name} by {resourcetype}","on_right_yaxis":false,"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}}],"template_variables":[{"name":"Subscription","default":"*","prefix":"subscription_name"},{"name":"Region","default":"*","prefix":"region"},{"name":"Resource-Group","default":"*","prefix":"resource_group"},{"name":"Resource-Name","default":"*","prefix":"name"},{"name":"Database-Name","default":"*","prefix":"databasename"},{"name":"Collection-Name","default":"*","prefix":"collectionname"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":30395}