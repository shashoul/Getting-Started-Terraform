{"title":"Azure IOT Hub","description":"This dashboard provides an overview of devices connected to Azure's IoT Hub, so you can track your devices' performance and error metrics. Further reading on monitoring IoT Hub:\n\n- [Datadog's Azure IoT Hub integration docs](https://docs.datadoghq.com/integrations/azure_iot_hub/)\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"layout":{"x":1,"y":1,"width":20,"height":15},"definition":{"type":"image","url":"/static/images/logos/azure-iot-hub_small.svg","sizing":"fit"}},{"id":1,"layout":{"x":23,"y":1,"width":67,"height":5},"definition":{"type":"note","content":"D2C - Device Twins","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":2,"layout":{"x":1,"y":30,"width":20,"height":10},"definition":{"title":"Devices Connection Failures","title_size":"16","title_align":"left","time":{"live_span":"1h"},"type":"query_value","requests":[{"q":"sum:azure.devices_iothubs.devices.total_devices{$region}-sum:azure.devices_iothubs.devices.connected_devices.all_protocol{$region}","aggregator":"last","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":100}]}],"autoscale":false,"text_align":"center","custom_links":[],"precision":0}},{"id":3,"layout":{"x":1,"y":18,"width":20,"height":10},"definition":{"title":"Devices Registered","title_size":"16","title_align":"left","time":{"live_span":"1h"},"type":"query_value","requests":[{"q":"sum:azure.devices_iothubs.devices.total_devices{$region}","aggregator":"last","conditional_formats":[{"comparator":"<=","palette":"white_on_red","value":0}]}],"autoscale":false,"text_align":"center","custom_links":[],"precision":0}},{"id":4,"layout":{"x":23,"y":8,"width":33,"height":15},"definition":{"title":"Device Twin Reads - Success","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.twin.read.success{$region}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":5,"layout":{"x":126,"y":8,"width":33,"height":15},"definition":{"title":"Device Twin Updates - Success","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.twin.update.success{$region}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":6,"layout":{"x":23,"y":47,"width":33,"height":15},"definition":{"title":"Telemetry Messages - Success","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.telemetry.ingress.success{$region}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":7,"layout":{"x":23,"y":24,"width":33,"height":15},"definition":{"title":"Device Twin Reads - Failure","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.twin.read.failure{$region}.as_count()*0.1","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":8,"layout":{"x":57,"y":24,"width":33,"height":15},"definition":{"title":"Device Twin Updates - Failure","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.twin.update.failure{$region}.as_count()*0.1","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":9,"layout":{"x":23,"y":63,"width":33,"height":15},"definition":{"title":"Telemetry Messages - Failed","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"(sum:azure.devices_iothubs.d2c.telemetry.ingress.all_protocol{$region}.as_count()-sum:azure.devices_iothubs.d2c.telemetry.ingress.success{$region}.as_count())*0.1","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":10,"layout":{"x":92,"y":1,"width":67,"height":5},"definition":{"type":"note","content":"C2D - Device Twins","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":11,"layout":{"x":92,"y":8,"width":33,"height":15},"definition":{"title":"Device Twin Reads - Success","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.twin.read.success{$region}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":12,"layout":{"x":57,"y":8,"width":33,"height":15},"definition":{"title":"Device Twin Updates - Success","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.twin.update.success{$region}*10","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":13,"layout":{"x":92,"y":47,"width":33,"height":15},"definition":{"title":"Commands - Success","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.commands.egress.complete.success{$region}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":14,"layout":{"x":92,"y":24,"width":33,"height":15},"definition":{"title":"Device Twin Reads - Failure","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.twin.read.failure{$region}","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":15,"layout":{"x":126,"y":24,"width":33,"height":15},"definition":{"title":"Device Twin Updates - Failure","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.twin.update.failure{$region}.as_count()*0.1","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":16,"layout":{"x":126,"y":47,"width":33,"height":15},"definition":{"title":"Commands - Abandoned","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.commands.egress.abandon.success{$region}","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":17,"layout":{"x":23,"y":40,"width":67,"height":5},"definition":{"type":"note","content":"D2C - Telemetry Messages","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":18,"layout":{"x":57,"y":47,"width":33,"height":15},"definition":{"title":"Telemetry Egress - Success / Fallback","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.telemetry.egress.success{$region}, sum:azure.devices_iothubs.d2c.telemetry.egress.fallback{$region}.as_count()","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":19,"layout":{"x":57,"y":63,"width":33,"height":15},"definition":{"title":"Telemetry Messages Egress - Dropped / Invalid","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.d2c.telemetry.egress.dropped{$region}, sum:azure.devices_iothubs.d2c.telemetry.egress.invalid{$region}","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}},{"id":20,"layout":{"x":92,"y":40,"width":67,"height":5},"definition":{"type":"note","content":"C2D - Commands","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":21,"layout":{"x":92,"y":63,"width":33,"height":15},"definition":{"title":"Commands - Rejected","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:azure.devices_iothubs.c2d.commands.egress.reject.success{$region}","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"events":[{"q":"firmware","tags_execution":"and"}],"custom_links":[]}}],"template_variables":[{"name":"region","default":"*","prefix":"region"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":111}