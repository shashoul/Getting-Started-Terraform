{"title":"AWS Lambda","description":"This dashboard reports the performance and usage of your AWS Lambda functions, helping you optimize them and monitor your billable execution time. Further reading on monitoring AWS Lambda:\n\n- [How to monitor Lambda functions](https://www.datadoghq.com/blog/how-to-monitor-lambda-functions/)\n\n- [Datadog's Lambda Layer: Monitor custom serverless metrics](https://www.datadoghq.com/blog/datadog-lambda-layer/)\n\n- [Datadog's AWS Lambda integration docs](https://docs.datadoghq.com/integrations/amazon_lambda/)\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"layout":{"x":0,"y":0,"width":13,"height":14},"definition":{"type":"image","url":"/static/images/logos/amazon-lambda_avatar.svg","sizing":"zoom"}},{"id":1,"layout":{"x":34,"y":35,"width":33,"height":15},"definition":{"title":"p95 execution time by function","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.lambda.duration.p95{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":2,"layout":{"x":0,"y":20,"width":33,"height":15},"definition":{"title":"Top invoked functions","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:aws.lambda.invocations{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}.as_count(), 100, 'sum', 'desc')"}],"custom_links":[]}},{"id":3,"layout":{"x":68,"y":35,"width":33,"height":15},"definition":{"title":"Errors by function","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.lambda.errors{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}.as_count()","style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":4,"layout":{"x":68,"y":65,"width":33,"height":15},"definition":{"title":"Throttled invocations by function","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.lambda.throttles{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}.as_count()","style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":5,"layout":{"x":13,"y":0,"width":48,"height":14},"definition":{"type":"note","content":"Want real-time metrics on AWS Lambda errors, cold starts, memory usage, and cost? **Enable [enhanced Lambda metrics](https://docs.datadoghq.com/integrations/amazon_lambda/#real-time-enhanced-lambda-metrics)** and browse to the **AWS Lambda (Enhanced Metrics)** default dashboard.\n\nSee [Lambda integration documentation](https://docs.datadoghq.com/integrations/amazon_lambda/). And [learn more](https://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions-metrics.html#lambda-cloudwatch-dimensions) about the `resource` and `executedVersion` tags.","background_color":"gray","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":6,"layout":{"x":0,"y":35,"width":33,"height":15},"definition":{"title":"Invocations by function","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.lambda.invocations{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":7,"layout":{"x":34,"y":20,"width":33,"height":15},"definition":{"title":"Slowest functions","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.lambda.duration.p95{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}, 20, 'mean', 'desc')"}],"custom_links":[]}},{"id":8,"layout":{"x":34,"y":65,"width":33,"height":15},"definition":{"title":"Total execution time","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.lambda.duration.sum{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}, 20, 'sum', 'desc')"}],"custom_links":[]}},{"id":9,"layout":{"x":68,"y":20,"width":33,"height":15},"definition":{"title":"Functions with most errors","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:aws.lambda.errors{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}.as_count(), 20, 'sum', 'desc')","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0}]}],"custom_links":[]}},{"id":10,"layout":{"x":68,"y":15,"width":33,"height":5},"definition":{"type":"note","content":"Errors","background_color":"vivid_pink","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":11,"layout":{"x":34,"y":15,"width":33,"height":5},"definition":{"type":"note","content":"Execution Time","background_color":"vivid_green","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":12,"layout":{"x":61,"y":0,"width":20,"height":14},"definition":{"title":"Invocations","title_size":"16","title_align":"center","type":"query_value","requests":[{"q":"sum:aws.lambda.invocations{$aws_account,$region,$function,$resource,$executedVersion}.as_count()","aggregator":"sum"}],"autoscale":true,"custom_unit":" ","custom_links":[],"precision":0}},{"id":13,"layout":{"x":81,"y":0,"width":20,"height":14},"definition":{"title":"Errors","title_size":"16","title_align":"center","type":"query_value","requests":[{"q":"sum:aws.lambda.errors{$aws_account,$region,$function,$resource,$executedVersion}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":5},{"comparator":"<=","palette":"white_on_green","value":5}]}],"autoscale":true,"custom_unit":" ","custom_links":[],"precision":0}},{"id":14,"layout":{"x":0,"y":15,"width":33,"height":5},"definition":{"type":"note","content":"Invocations","background_color":"vivid_blue","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":15,"layout":{"x":0,"y":65,"width":33,"height":15},"definition":{"title":"Provisioned concurrent executions by function","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.lambda.provisioned_concurrent_executions{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]}},{"id":16,"layout":{"x":0,"y":80,"width":33,"height":15},"definition":{"title":"Provisioned concurrency utilization by function","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.lambda.provisioned_concurrency_utilization{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[{"label":" 100% utilization ","value":"y = 100","display_type":"warning bold"}],"custom_links":[]}},{"id":17,"layout":{"x":0,"y":50,"width":33,"height":15},"definition":{"title":"Invoked functions per hour","title_size":"16","title_align":"left","show_legend":false,"time":{"live_span":"2d"},"type":"timeseries","requests":[{"q":"count_nonzero(sum:aws.lambda.invocations{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}.as_count().rollup(sum, 3600))","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":18,"layout":{"x":34,"y":50,"width":33,"height":15},"definition":{"title":"Max execution time / timeout","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.lambda.duration.maximum{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}/(avg:aws.lambda.timeout{$aws_account,$region,$function,$resource,$executedVersion} by {functionname}*1000),10,'max','desc')","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0.9},{"comparator":">=","palette":"white_on_yellow","value":0.7},{"comparator":"<","palette":"white_on_green","value":0.7}]}],"custom_links":[]}},{"id":19,"layout":{"x":68,"y":50,"width":33,"height":15},"definition":{"title":"Error logs by function","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"log_query":{"index":"*","search":{"query":"status:error source:lambda $aws_account $region $function"},"group_by":[{"facet":"functionname","sort":{"aggregation":"count","order":"desc"},"limit":10}],"compute":{"aggregation":"count"}},"style":{"palette":"warm"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}}],"template_variables":[{"name":"aws_account","default":"*","prefix":"aws_account"},{"name":"region","default":"*","prefix":"region"},{"name":"function","default":"*","prefix":"functionname"},{"name":"resource","default":"*","prefix":"resource"},{"name":"executedVersion","default":"*","prefix":"executedversion"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":98}