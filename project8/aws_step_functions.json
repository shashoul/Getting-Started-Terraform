{"title":"AWS Step Functions","description":"This dashboard shows you performance and status metrics for state machines running with AWS Step Functions, and focuses on steps that invoke AWS Lambda functions. See Datadog's documentation on the [AWS Step Functions integration](https://docs.datadoghq.com/integrations/amazon_step_functions/).\n\nIf your state machine is running [activities](https://docs.aws.amazon.com/step-functions/latest/dg/concepts-activities.html), metrics are available for per-activity status and execution timeâ€”clone and customize this dashboard to add them. \n\n\n","widgets":[{"id":0,"layout":{"x":0,"y":69,"width":47,"height":15},"definition":{"title":"Average execution time by state machine","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.states.execution_time{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]}},{"id":1,"layout":{"x":0,"y":53,"width":47,"height":15},"definition":{"title":"p95 execution time by state machine","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.states.execution_time.p95{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]}},{"id":2,"layout":{"x":0,"y":37,"width":47,"height":15},"definition":{"title":"Slowest state machines (p95 execution time)","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.states.execution_time.p95{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}, 10, 'mean', 'desc')","style":{"palette":"dog_classic"}}],"custom_links":[]}},{"id":3,"layout":{"x":0,"y":21,"width":15,"height":15},"definition":{"title":"Slowest execution","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"max:aws.states.execution_time.maximum{$scope,$statemachinearn,$lambdafunctionarn}","aggregator":"max","conditional_formats":[{"comparator":">=","palette":"white_on_red","value":0}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":4,"layout":{"x":16,"y":21,"width":15,"height":15},"definition":{"title":"Fastest execution","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"min:aws.states.execution_time.minimum{$scope,$statemachinearn,$lambdafunctionarn}","aggregator":"min","conditional_formats":[{"comparator":">=","palette":"white_on_green","value":0}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":5,"layout":{"x":32,"y":21,"width":15,"height":15},"definition":{"title":"Avg execution","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"avg:aws.states.execution_time{$scope,$statemachinearn,$lambdafunctionarn}","aggregator":"avg","conditional_formats":[{"comparator":">=","palette":"white_on_gray","value":0}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":6,"layout":{"x":0,"y":14,"width":47,"height":6},"definition":{"type":"note","content":"State machine execution time","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":7,"layout":{"x":49,"y":40,"width":47,"height":6},"definition":{"type":"note","content":"State machine execution issues","background_color":"gray","font_size":"18","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":8,"layout":{"x":49,"y":47,"width":11,"height":11},"definition":{"title":"Aborted","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.executions_aborted{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<","palette":"white_on_green","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":9,"layout":{"x":85,"y":47,"width":11,"height":11},"definition":{"title":"Failed","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.executions_failed{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<","palette":"white_on_green","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":10,"layout":{"x":61,"y":47,"width":11,"height":11},"definition":{"title":"Throttled","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.execution_throttled{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<","palette":"white_on_green","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":11,"layout":{"x":73,"y":47,"width":11,"height":11},"definition":{"title":"Timed out","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.executions_timed_out{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<","palette":"white_on_green","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":12,"layout":{"x":0,"y":0,"width":47,"height":12},"definition":{"type":"image","url":"/static/images/logos/amazon-step-functions_avatar.svg","sizing":"fit","margin":"large"}},{"id":13,"layout":{"x":49,"y":7,"width":47,"height":15},"definition":{"title":"Executions started","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.states.executions_started{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]}},{"id":14,"layout":{"x":49,"y":23,"width":47,"height":15},"definition":{"title":"Executions succeeded","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.states.executions_succeeded{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]}},{"id":15,"layout":{"x":98,"y":52,"width":95,"height":6},"definition":{"type":"note","content":"Steps running Lambda functions","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":16,"layout":{"x":98,"y":59,"width":47,"height":15},"definition":{"title":"p95 run time by step","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.states.lambda_function_time.p95{$scope,$statemachinearn,$lambdafunctionarn} by {stepname}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"custom_links":[]}},{"id":17,"layout":{"x":146,"y":59,"width":47,"height":15},"definition":{"title":"Slowest steps (p95 run time)","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.states.lambda_function_time.p95{$scope,$statemachinearn,$lambdafunctionarn} by {stepname}, 10, 'mean', 'desc')","style":{"palette":"dog_classic"}}],"custom_links":[]}},{"id":18,"layout":{"x":98,"y":75,"width":47,"height":15},"definition":{"title":"p95 schedule time by step","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.states.lambda_function_schedule_time.p95{$scope,$statemachinearn,$lambdafunctionarn} by {stepname}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"custom_links":[]}},{"id":19,"layout":{"x":146,"y":75,"width":47,"height":15},"definition":{"title":"Slowest steps (p95 schedule time)","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.states.lambda_function_schedule_time.p95{$scope,$statemachinearn,$lambdafunctionarn} by {stepname}, 10, 'mean', 'desc')","style":{"palette":"dog_classic"}}],"custom_links":[]}},{"id":20,"layout":{"x":98,"y":0,"width":47,"height":6},"definition":{"type":"note","content":"Lambda state execution status","background_color":"gray","font_size":"18","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":21,"layout":{"x":147,"y":7,"width":11,"height":11},"definition":{"title":"Failed","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.lambda_functions_failed{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<","palette":"white_on_green","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":22,"layout":{"x":159,"y":7,"width":11,"height":11},"definition":{"title":"Timed out","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.lambda_functions_timed_out{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<","palette":"white_on_green","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":23,"layout":{"x":122,"y":7,"width":11,"height":11},"definition":{"title":"Started","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.lambda_functions_started{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_gray","value":0}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":24,"layout":{"x":110,"y":7,"width":11,"height":11},"definition":{"title":"Scheduled","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.lambda_functions_scheduled{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">=","palette":"white_on_gray","value":0}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":25,"layout":{"x":98,"y":7,"width":11,"height":11},"definition":{"title":"Succeeded","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.states.lambda_functions_succeeded{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":">","palette":"white_on_green","value":0},{"comparator":"<","palette":"white_on_gray","value":1}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":26,"layout":{"x":49,"y":0,"width":47,"height":6},"definition":{"type":"note","content":"State machine execution status","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":27,"layout":{"x":49,"y":82,"width":47,"height":15},"definition":{"title":"State machine executions with issues (by issue)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.states.executions_aborted{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"q":"sum:aws.states.executions_failed{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"q":"sum:aws.states.execution_throttled{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"q":"sum:aws.states.executions_timed_out{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]}},{"id":28,"layout":{"x":49,"y":66,"width":47,"height":15},"definition":{"title":"State machines with the most execution issues","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:aws.states.executions_failed{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}.as_count()+sum:aws.states.executions_aborted{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}.as_count()+sum:aws.states.execution_throttled{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}.as_count()+sum:aws.states.executions_timed_out{$scope,$statemachinearn,$lambdafunctionarn} by {statemachinearn}.as_count(),10,'sum','desc')","style":{"palette":"dog_classic"}}],"custom_links":[]}},{"id":29,"layout":{"x":147,"y":19,"width":47,"height":15},"definition":{"title":"Lambda steps with the most failures or timeouts","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:aws.states.lambda_functions_failed{$scope,$statemachinearn,$lambdafunctionarn} by {lambdafunctionarn}.as_count()+sum:aws.states.lambda_functions_timed_out{$scope,$statemachinearn,$lambdafunctionarn} by {lambdafunctionarn}.as_count(),10,'sum','desc')","style":{"palette":"dog_classic"}}],"custom_links":[]}},{"id":30,"layout":{"x":49,"y":59,"width":47,"height":6},"definition":{"type":"note","content":"Includes aborted, failed, throttled, and timed out executions","background_color":"yellow","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":31,"layout":{"x":147,"y":35,"width":47,"height":15},"definition":{"title":"Lambda state executions with failures or timeouts","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.states.lambda_functions_failed{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"q":"sum:aws.states.lambda_functions_timed_out{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]}},{"id":32,"layout":{"x":98,"y":35,"width":47,"height":15},"definition":{"title":"Lambda state executions succeeded","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.states.lambda_functions_succeeded{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]}},{"id":33,"layout":{"x":98,"y":19,"width":47,"height":15},"definition":{"title":"Lambda state executions started","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:aws.states.lambda_functions_started{$scope,$statemachinearn,$lambdafunctionarn}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]}},{"id":34,"layout":{"x":147,"y":0,"width":47,"height":6},"definition":{"type":"note","content":"Lambda state execution issues","background_color":"gray","font_size":"18","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}}],"template_variables":[{"name":"scope","default":"*","prefix":"$scope"},{"name":"statemachinearn","default":"*","prefix":"statemachinearn"},{"name":"lambdafunctionarn","default":"*","prefix":"lambdafunctionarn"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":30305}