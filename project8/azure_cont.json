{"title":"Continuous Profiler Python overview","description":"Metrics gathered from Datadog Continuous Profiler on all Python applications","widgets":[{"id":0,"layout":{"x":0,"y":0,"width":81,"height":6},"definition":{"type":"note","content":"# Service Performance","background_color":"gray","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":1,"layout":{"x":0,"y":7,"width":12,"height":18},"definition":{"type":"note","content":"## CPU","background_color":"blue","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":2,"layout":{"x":13,"y":7,"width":28,"height":18},"definition":{"title":"CPU sum by Service - Cores","title_size":"16","title_align":"left","type":"toplist","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host runtime:CPython"},"group_by":[{"facet":"service","sort":{"facet":"@prof_core_cpu_cores","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_core_cpu_cores","aggregation":"sum"}}}],"custom_links":[{"link":"https://app.datadoghq.com/apm/service/{{service.value}}","label":"service page"}]}},{"id":3,"layout":{"x":0,"y":26,"width":12,"height":18},"definition":{"type":"note","content":"## Memory Allocation\n\nHeap Memory allocated, that may be subsequently freed by GC.","background_color":"orange","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":4,"layout":{"x":13,"y":26,"width":28,"height":18},"definition":{"title":"Memory Allocation sum by Service - Bytes per second","title_size":"16","title_align":"left","type":"toplist","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host runtime:CPython"},"group_by":[{"facet":"service","sort":{"facet":"@prof_core_alloc_bytes_per_sec","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_core_alloc_bytes_per_sec","aggregation":"sum"}}}]}},{"id":5,"layout":{"x":42,"y":26,"width":39,"height":18},"definition":{"title":"Memory Allocation sum by Service - Bytes per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host runtime:CPython"},"group_by":[{"facet":"service","sort":{"facet":"@prof_core_alloc_bytes_per_sec","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_core_alloc_bytes_per_sec","aggregation":"sum"}},"on_right_yaxis":false,"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":6,"layout":{"x":0,"y":45,"width":12,"height":18},"definition":{"type":"note","content":"## Exceptions\n\nThrown Exceptions (caught + uncaught). \nLess is better.","background_color":"yellow","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":7,"layout":{"x":13,"y":45,"width":28,"height":18},"definition":{"title":"Exceptions sum by Service","title_size":"16","title_align":"left","type":"toplist","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"service","sort":{"facet":"@prof_python_exceptions_per_sec","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_exceptions_per_sec","aggregation":"sum"}}}]}},{"id":8,"layout":{"x":82,"y":0,"width":67,"height":6},"definition":{"type":"note","content":"# Code level performance","background_color":"gray","font_size":"14","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":9,"layout":{"x":42,"y":7,"width":39,"height":18},"definition":{"title":"CPU sum by Service - Cores","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host runtime:CPython"},"group_by":[{"facet":"service","sort":{"facet":"@prof_core_cpu_cores","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_core_cpu_cores","aggregation":"sum"}},"on_right_yaxis":false,"style":{"palette":"blue","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":10,"layout":{"x":82,"y":7,"width":28,"height":18},"definition":{"title":"CPU sum by Method - % of time","title_size":"16","title_align":"left","type":"toplist","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"@prof_python_cpu_cores_by_top_methods.attributes.method","sort":{"facet":"@prof_python_cpu_cores_by_top_methods.value","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_cpu_cores_by_top_methods.value","aggregation":"sum"}}}]}},{"id":11,"layout":{"x":82,"y":26,"width":28,"height":18},"definition":{"title":"Memory Allocation sum by method - Bytes per second","title_size":"16","title_align":"left","type":"toplist","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"@prof_python_alloc_bytes_per_sec_by_top_methods.attributes.method","sort":{"facet":"@prof_python_alloc_bytes_per_sec_by_top_methods.value","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_alloc_bytes_per_sec_by_top_methods.value","aggregation":"sum"}}}]}},{"id":12,"layout":{"x":111,"y":26,"width":38,"height":18},"definition":{"title":"Memory Allocation sum by method - Bytes per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"@prof_python_alloc_bytes_per_sec_by_top_methods.attributes.method","sort":{"facet":"@prof_python_alloc_bytes_per_sec_by_top_methods.value","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_alloc_bytes_per_sec_by_top_methods.value","aggregation":"sum"}},"on_right_yaxis":false,"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":13,"layout":{"x":82,"y":45,"width":28,"height":18},"definition":{"title":"Exceptions sum by Class","title_size":"16","title_align":"left","type":"toplist","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"@prof_python_exceptions_per_sec_by_top_classes.attributes.class","sort":{"facet":"@prof_python_exceptions_per_sec_by_top_classes.value","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_exceptions_per_sec_by_top_classes.value","aggregation":"sum"}}}]}},{"id":14,"layout":{"x":42,"y":45,"width":39,"height":18},"definition":{"title":"Exceptions sum by Service","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"service","sort":{"facet":"@prof_python_exceptions_per_sec","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_exceptions_per_sec","aggregation":"sum"}},"on_right_yaxis":false,"style":{"palette":"red","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":15,"layout":{"x":111,"y":45,"width":38,"height":18},"definition":{"title":"Exceptions sum by Class","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"@prof_python_exceptions_per_sec_by_top_classes.attributes.class","sort":{"facet":"@prof_python_exceptions_per_sec_by_top_classes.value","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_exceptions_per_sec_by_top_classes.value","aggregation":"sum"}},"on_right_yaxis":false,"style":{"palette":"red","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}},{"id":16,"layout":{"x":111,"y":7,"width":38,"height":18},"definition":{"title":"CPU sum by Method - % of time","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"profile_metrics_query":{"index":"profilemetrics","search":{"query":"$env $service $version $host"},"group_by":[{"facet":"@prof_python_cpu_cores_by_top_methods.attributes.method","sort":{"facet":"@prof_python_cpu_cores_by_top_methods.value","aggregation":"sum","order":"desc"},"limit":10}],"compute":{"facet":"@prof_python_cpu_cores_by_top_methods.value","aggregation":"sum"}},"on_right_yaxis":false,"style":{"palette":"blue","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}}],"template_variables":[{"name":"env","default":"*","prefix":"env"},{"name":"service","default":"*","prefix":"service"},{"name":"version","default":"*","prefix":"version"},{"name":"host","default":"*","prefix":"host"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":30396}