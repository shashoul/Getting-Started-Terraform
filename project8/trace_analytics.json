{"title":"Trace Analytics - Usage","description":"This Trace Analytics - Usage dashboard was created by Datadog. Clone this dashboard                 to make changes and add your own metrics.","widgets":[{"id":0,"definition":{"title":"APM Overview","type":"group","layout_type":"ordered","widgets":[{"id":278393134887528,"definition":{"title":"APM Host Count","type":"query_value","requests":[{"q":"count_not_null(sum:datadog.apm.host_instance{*} by {host})","aggregator":"last"}],"autoscale":false,"precision":0}},{"id":641224389661054,"definition":{"title":"APM Host Count Over Time","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"count_not_null(sum:datadog.apm.host_instance{*} by {host})","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":7991861199305678,"definition":{"title":"Ingested and Indexed Spans","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:datadog.estimated_usage.apm.ingested_spans{*}.as_count().rollup(sum, 300)","on_right_yaxis":false,"style":{"palette":"blue","line_type":"solid","line_width":"normal"},"display_type":"line"},{"q":"sum:datadog.estimated_usage.apm.indexed_spans{*}.as_count().rollup(sum, 300)","on_right_yaxis":false,"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}}]}},{"id":1,"definition":{"title":"Ingestion Overview","type":"group","layout_type":"ordered","widgets":[{"id":8873556350071872,"definition":{"title":"Ingested Bytes per Second","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:datadog.estimated_usage.apm.ingested_bytes{*} by {env}.as_rate().rollup(sum, 300)","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":5555820790149214,"definition":{"title":"Total Ingested Bytes","type":"query_value","requests":[{"q":"sum:datadog.estimated_usage.apm.ingested_bytes{*}.as_count()","aggregator":"sum"}],"autoscale":true,"precision":2}},{"id":6263694219839198,"definition":{"title":"Total Ingested Bytes by Environment","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.ingested_bytes{*} by {env}.as_count(), 10, 'sum', 'desc')"}]}},{"id":5934890171978082,"definition":{"title":"Ingested Spans per Second","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:datadog.estimated_usage.apm.ingested_spans{*} by {env}.as_rate().rollup(sum, 300)","on_right_yaxis":false,"style":{"palette":"blue","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6271335746645882,"definition":{"title":"Total Ingested Spans","type":"query_value","requests":[{"q":"sum:datadog.estimated_usage.apm.ingested_spans{*}.as_count()","aggregator":"sum"}],"autoscale":true,"precision":2}},{"id":3247940995161600,"definition":{"title":"Total Ingested Spans by Environment","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.ingested_spans{*} by {env}.as_count(), 10, 'sum', 'desc')"}]}}]}},{"id":2,"definition":{"title":"Indexing Overview","type":"group","layout_type":"ordered","widgets":[{"id":5465446957345976,"definition":{"title":"Indexed Spans per Second","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:datadog.estimated_usage.apm.indexed_spans{*} by {env}.as_rate().rollup(sum, 300)","on_right_yaxis":false,"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":7425971503621112,"definition":{"title":"Total Indexed Spans","type":"query_value","requests":[{"q":"sum:datadog.estimated_usage.apm.indexed_spans{*}.as_count()","aggregator":"sum"}],"autoscale":true,"precision":2}},{"id":8626069858148522,"definition":{"title":"Total Indexed Spans by Environment","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.indexed_spans{*} by {env}.as_count(), 10, 'sum', 'desc')"}]}}]}},{"id":3,"definition":{"title":"Indexed Span Consumption by Environment","type":"group","layout_type":"ordered","widgets":[{"id":4530059972878924,"definition":{"title":"Ingested Spans","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.ingested_spans{*} by {env}.as_count(), 10, 'sum', 'desc')"}]}},{"id":761295565522876,"definition":{"title":"Indexed Spans","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.indexed_spans{*} by {env}.as_count(), 10, 'sum', 'desc')"}]}},{"id":3212699993264816,"definition":{"title":"Filtered (%)","type":"toplist","requests":[{"q":"top((sum:datadog.estimated_usage.apm.ingested_spans{*} by {env}.as_count()-sum:datadog.estimated_usage.apm.indexed_spans{*} by {env}.as_count())/sum:datadog.estimated_usage.apm.ingested_spans{*} by {env}.as_count()*100,10,'mean','desc')"}]}}]}},{"id":4,"definition":{"title":"Indexed Span Consumption by Service","type":"group","layout_type":"ordered","widgets":[{"id":3393511844513314,"definition":{"title":"Ingested Spans","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.ingested_spans{*} by {service}.as_count(), 10, 'sum', 'desc')"}]}},{"id":1534302487649752,"definition":{"title":"Indexed Spans","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.indexed_spans{*} by {service}.as_count(), 10, 'sum', 'desc')"}]}},{"id":3541917354477354,"definition":{"title":"Filtered (%)","type":"toplist","requests":[{"q":"top((sum:datadog.estimated_usage.apm.ingested_spans{*} by {service}.as_count()-sum:datadog.estimated_usage.apm.indexed_spans{*} by {service}.as_count())/sum:datadog.estimated_usage.apm.ingested_spans{*} by {service}.as_count()*100,10,'mean','desc')"}]}}]}},{"id":5,"definition":{"title":"Indexed Span Consumption by Environment and Service","type":"group","layout_type":"ordered","widgets":[{"id":1438722933583718,"definition":{"title":"Ingested Spans","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.ingested_spans{*} by {env,service}.as_count(), 10, 'sum', 'desc')"}]}},{"id":184719865794620,"definition":{"title":"Indexed Spans","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.apm.indexed_spans{*} by {env,service}.as_count(), 10, 'sum', 'desc')"}]}},{"id":5319964692244810,"definition":{"title":"Filtered (%)","type":"toplist","requests":[{"q":"top((sum:datadog.estimated_usage.apm.ingested_spans{*} by {env,service}.as_count()-sum:datadog.estimated_usage.apm.indexed_spans{*} by {env,service}.as_count())/sum:datadog.estimated_usage.apm.ingested_spans{*} by {env,service}.as_count()*100,10,'mean','desc')"}]}}]}}],"template_variables":[],"layout_type":"ordered","is_read_only":true,"notify_list":[],"id":30337}