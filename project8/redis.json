{"title":"AWS Elasticache (Redis)","description":"This dashboard shows you ElastiCache for Redis performance metrics like connection count and hit rate, plus underlying memory metrics that could tip you off if you need to restart your instance or allocate more memory. For more information, see:\n\n- [Datadog's ElastiCache integration documentation](https://docs.datadoghq.com/integrations/amazon_elasticache/)\n\n- [Monitoring ElastiCache](https://www.datadoghq.com/blog/monitoring-elasticache-performance-metrics-with-redis-or-memcached/)\n\n- [Collecting metrics from ElastiCache](https://www.datadoghq.com/blog/collecting-elasticache-metrics-its-redis-memcached-metrics/)\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"layout":{"x":0,"y":0,"width":17,"height":15},"definition":{"type":"image","url":"/static/images/logos/amazon-elasticache_avatar.svg","sizing":"fit","margin":"large"}},{"id":1,"layout":{"x":73,"y":0,"width":40,"height":15},"definition":{"title":"Network incoming bytes by node (top 10)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"top(avg:aws.elasticache.network_bytes_in{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}.as_rate(),10,'mean','desc')","style":{"palette":"blue"},"display_type":"line"}],"custom_links":[]}},{"id":2,"layout":{"x":73,"y":39,"width":40,"height":15},"definition":{"title":"Set commands by cluster","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"q":"top(sum:aws.elasticache.set_type_cmds{$scope} by {cacheclusterid}.as_rate(), 20, 'mean', 'desc')","style":{"palette":"purple"}}],"custom_links":[]}},{"id":3,"layout":{"x":156,"y":39,"width":40,"height":48},"definition":{"title":"ElastiCache events","title_size":"16","title_align":"left","time":{"live_span":"1w"},"type":"event_stream","query":"sources:elasticache ","tags_execution":"and","event_size":"l"}},{"id":4,"layout":{"x":73,"y":23,"width":40,"height":15},"definition":{"title":"Get commands by cluster","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"q":"top(sum:aws.elasticache.get_type_cmds{$scope} by {cacheclusterid}.as_rate(), 20, 'mean', 'desc')","style":{"palette":"green"}}],"custom_links":[]}},{"id":5,"layout":{"x":32,"y":23,"width":40,"height":15},"definition":{"title":"Connections by cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:aws.elasticache.curr_connections{$scope,$cluster_id} by {cacheclusterid}","style":{"palette":"grey"},"display_type":"line"}],"custom_links":[]}},{"id":6,"layout":{"x":32,"y":0,"width":40,"height":15},"definition":{"title":"CPU utilization by node (top 10)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"top(avg:aws.elasticache.cpuutilization{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid},10,'mean','desc')","style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}},{"id":7,"layout":{"x":19,"y":56,"width":12,"height":31},"definition":{"type":"note","content":"[Memory](https://www.datadoghq.com/blog/monitoring-elasticache-performance-metrics-with-redis-or-memcached/#memory-metrics)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":8,"layout":{"x":73,"y":72,"width":40,"height":15},"definition":{"title":"Min available system memory by cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"min:aws.elasticache.freeable_memory{$scope,$cluster_id} by {cacheclusterid}","style":{"palette":"cool"},"display_type":"line"}],"custom_links":[]}},{"id":9,"layout":{"x":32,"y":56,"width":40,"height":15},"definition":{"title":"Swap usage by cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:aws.elasticache.swap_usage{$scope,$cluster_id} by {cacheclusterid}","style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}},{"id":10,"layout":{"x":19,"y":23,"width":12,"height":31},"definition":{"type":"note","content":"[Throughput](https://www.datadoghq.com/blog/monitoring-elasticache-performance-metrics-with-redis-or-memcached/#client-metrics)\n&\n[Performance](https://www.datadoghq.com/blog/monitoring-elasticache-performance-metrics-with-redis-or-memcached/#cache-metrics)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":11,"layout":{"x":32,"y":39,"width":40,"height":15},"definition":{"title":"Hit rate (%) by cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"100 * sum:aws.elasticache.cache_hits{$scope,$cluster_id} by {cacheclusterid}.as_count() / ( sum:aws.elasticache.cache_hits{$scope,$cluster_id} by {cacheclusterid}.as_count() + sum:aws.elasticache.cache_misses{$scope,$cluster_id} by {cacheclusterid}.as_count() )","style":{"palette":"dog_classic"},"display_type":"line"}],"custom_links":[]}},{"id":12,"layout":{"x":73,"y":56,"width":40,"height":15},"definition":{"title":"Memory usage by cluster","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"q":"top(sum:aws.elasticache.bytes_used_for_cache{$scope} by {cacheclusterid}, 20, 'mean', 'desc')","style":{"palette":"cool"}}],"custom_links":[]}},{"id":13,"layout":{"x":19,"y":0,"width":12,"height":15},"definition":{"type":"note","content":"[Host-level metrics](https://www.datadoghq.com/blog/monitoring-elasticache-performance-metrics-with-redis-or-memcached/#host-metrics)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":14,"layout":{"x":32,"y":17,"width":81,"height":5},"definition":{"type":"note","content":"Cache clusters","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":15,"layout":{"x":32,"y":72,"width":40,"height":15},"definition":{"title":"Evictions by cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:aws.elasticache.evictions{$scope,$cluster_id} by {cacheclusterid}.as_count()","style":{"palette":"warm"},"display_type":"bars"}],"custom_links":[]}},{"id":16,"layout":{"x":0,"y":45,"width":17,"height":9},"definition":{"title":"Average hit rate","title_size":"16","title_align":"left","time":{"live_span":"1h"},"type":"query_value","requests":[{"q":"100*(avg:aws.elasticache.cache_hits{*}.as_count())/(avg:aws.elasticache.cache_hits{*}.as_count()+avg:aws.elasticache.cache_misses{*}.as_count())","aggregator":"avg","conditional_formats":[{"comparator":"<","palette":"red_on_white","value":50},{"comparator":"<","palette":"yellow_on_white","value":80},{"comparator":">=","palette":"green_on_white","value":80}]}],"autoscale":false,"custom_unit":"%","text_align":"center","custom_links":[],"precision":1}},{"id":17,"layout":{"x":0,"y":56,"width":17,"height":9},"definition":{"title":"Max swap usage","title_size":"16","title_align":"left","time":{"live_span":"1h"},"type":"query_value","requests":[{"q":"max:aws.elasticache.swap_usage{$scope,$cluster_id}","aggregator":"max","conditional_formats":[{"comparator":"<","palette":"green_on_white","value":40000000},{"comparator":">=","palette":"red_on_white","value":40000000}]}],"autoscale":true,"text_align":"center","custom_links":[],"precision":1}},{"id":18,"layout":{"x":114,"y":17,"width":40,"height":5},"definition":{"type":"note","content":"Cache nodes","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":19,"layout":{"x":114,"y":56,"width":40,"height":15},"definition":{"title":"Memory usage by node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:aws.elasticache.bytes_used_for_cache{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}","style":{"palette":"dog_classic"},"display_type":"line"}],"custom_links":[]}},{"id":20,"layout":{"x":114,"y":0,"width":40,"height":15},"definition":{"title":"Network outgoing bytes by node (top 10)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"top(avg:aws.elasticache.network_bytes_out{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}.as_rate(),10,'mean','desc')","style":{"palette":"orange"},"display_type":"line"}],"custom_links":[]}},{"id":21,"layout":{"x":114,"y":72,"width":40,"height":15},"definition":{"title":"Available system memory by node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"avg:aws.elasticache.freeable_memory{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}","style":{"palette":"dog_classic"},"display_type":"line"}],"custom_links":[]}},{"id":22,"layout":{"x":114,"y":39,"width":40,"height":15},"definition":{"title":"Set commands by node (top 10)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"top(sum:aws.elasticache.set_type_cmds{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}.as_rate(),10,'mean','desc')","style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":23,"layout":{"x":114,"y":23,"width":40,"height":15},"definition":{"title":"Get commands by node (top 10)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"top(sum:aws.elasticache.get_type_cmds{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}.as_rate(),10,'mean','desc')","style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":24,"layout":{"x":0,"y":17,"width":17,"height":9},"definition":{"title":"ElastiCache Service Status","title_size":"13","title_align":"center","time":{"live_span":"30m"},"type":"check_status","check":"aws.status","grouping":"cluster","group_by":["service"],"tags":["service:elasticache"]}},{"id":25,"layout":{"x":0,"y":30,"width":17,"height":11},"definition":{"type":"image","url":"/static/images/logos/redis_large.svg","sizing":"center"}},{"id":26,"layout":{"x":156,"y":23,"width":40,"height":15},"definition":{"title":"Replication lag by node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"avg:aws.elasticache.replication_lag{$scope,$cluster_id,$node_id} by {cacheclusterid,cachenodeid}","style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}}],"template_variables":[{"name":"scope","default":"*"},{"name":"cluster_id","default":"*","prefix":"cacheclusterid"},{"name":"node_id","default":"*","prefix":"cachenodeid"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":68}