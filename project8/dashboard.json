{"title":"AWS EFS","description":"","widgets":
    [{"id":0,"layout":{"x":16,"y":0,"width":43,"height":16},"definition":{"type":"note","content":"Mount your EFS to an AWS Lambda function or EC2 instance for simple, scalable file storage and full visibility into your EFS infrastructure.\n\nThese metrics are powered by the [Amazon EFS](https://docs.datadoghq.com/integrations/amazon_efs/) and [Amazon Lambda](https://docs.datadoghq.com/integrations/amazon_lambda/) integration. [Learn more](https://docs.datadoghq.com/integrations/amazon_efs/#overview) about enabling the `DescribeTags`, `DescribeFileSystems` and \n`DescribeAccessPoints` permissions.","background_color":"gray","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":1,"layout":{"x":0,"y":0,"width":16,"height":16},"definition":{"type":"image","url":"/static/images/logos/amazon-efs_avatar.svg","sizing":"fit","margin":"large"}},{"id":2,"layout":{"x":68,"y":23,"width":33,"height":14},"definition":{"title":"Burst Credit Balance by File System","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(avg:aws.efs.burst_credit_balance{$file_system,$aws_account,$region} by {filesystemid}, 10, 'mean', 'asc')"}],"custom_links":[]}},{"id":3,"layout":{"x":68,"y":37,"width":33,"height":14},"definition":{"title":"Client Connections by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:aws.efs.client_connections{$file_system,$aws_account,$region} by {filesystemid}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":4,"layout":{"x":0,"y":37,"width":33,"height":14},"definition":{"title":"I/O Usage by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:aws.efs.total_iobytes{$file_system,$aws_account,$region} by {filesystemid}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":5,"layout":{"x":0,"y":51,"width":33,"height":14},"definition":{"title":"I/O Limit Usage (%) by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"forecast(avg:aws.efs.percent_iolimit{$file_system,$aws_account,$region} by {filesystemid}, 'linear', 1)","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":6,"layout":{"x":68,"y":51,"width":33,"height":14},"definition":{"title":"Permitted Throughput by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"avg:aws.efs.permitted_throughput{$region,$aws_account,$file_system} by {filesystemid}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":7,"layout":{"x":34,"y":23,"width":33,"height":14},"definition":{"title":"Average Writes (bytes) by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:aws.efs.data_write_iobytes{$file_system,$aws_account,$region} by {filesystemid}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":8,"layout":{"x":34,"y":37,"width":33,"height":14},"definition":{"title":"Average Metadata (bytes) by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:aws.efs.metadata_iobytes{$file_system,$aws_account,$region} by {filesystemid}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":9,"layout":{"x":34,"y":51,"width":33,"height":14},"definition":{"title":"Average Reads (bytes) by File System","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"q":"sum:aws.efs.data_read_iobytes{$file_system,$aws_account,$region} by {filesystemid}.as_count()","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"custom_links":[]}},{"id":10,"layout":{"x":0,"y":23,"width":33,"height":14},"definition":{"title":"Total I/O Usage by File System","title_size":"16","title_align":"left","type":"toplist","requests":[{"q":"top(sum:aws.efs.total_iobytes{$file_system,$aws_account,$region} by {filesystemid}, 10, 'sum', 'desc')"}],"custom_links":[]}},{"id":11,"layout":{"x":0,"y":17,"width":33,"height":6},"definition":{"type":"note","content":"\n\n\n# I/O","background_color":"vivid_blue","font_size":"24","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":12,"layout":{"x":34,"y":17,"width":33,"height":6},"definition":{"type":"note","content":"Operation Size","background_color":"vivid_green","font_size":"24","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":13,"layout":{"x":68,"y":17,"width":33,"height":6},"definition":{"type":"note","content":"# EFS Configuration","background_color":"vivid_purple","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":14,"layout":{"x":80,"y":0,"width":21,"height":16},"definition":{"title":"Total I/O Usage","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:aws.efs.total_iobytes{$file_system,$aws_account,$region}.as_count()","aggregator":"sum","conditional_formats":[{"comparator":"<","palette":"white_on_green","value":0}]}],"autoscale":true,"custom_links":[],"precision":2}},{"id":15,"layout":{"x":59,"y":8,"width":21,"height":8},"definition":{"title":"EFS for EC2 Count","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"timeshift(count_nonzero(exclude_null(avg:aws.efs.total_iobytes{$region,$aws_account,$file_system} by {filesystemid})), -1000)-timeshift(count_nonzero(exclude_null(avg:aws.lambda.invocations{$region,$aws_account,$file_system} by {filesystemid})), -1000)","aggregator":"last"}],"autoscale":true,"custom_links":[],"precision":0}},{"id":16,"layout":{"x":59,"y":0,"width":21,"height":8},"definition":{"title":"EFS for Lambda Count","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"timeshift(count_nonzero(exclude_null(avg:aws.lambda.invocations{$region,$aws_account,$file_system} by {filesystemid})), -1000)","aggregator":"last"}],"custom_links":[],"precision":0}}],"template_variables":[{"name":"file_system","default":"*","prefix":"filesystemid"},{"name":"aws_account","default":"*","prefix":"aws_account"},{"name":"region","default":"*","prefix":"region"}],"layout_type":"free","is_read_only":true,"notify_list":[],"id":30330}